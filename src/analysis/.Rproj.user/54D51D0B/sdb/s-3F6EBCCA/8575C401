{
    "collab_server" : "",
    "contents" : "################################################\n#      Introducción a la Ciencia de Datos      #\n#              ANÁLISIS DE DATOS               #\n#                                              #\n# (C) Cristian González Guerrero               #\n################################################\n\n# Build the workspace (load variables and functions)\nsource(\"../regression/build-workspace.R\")\n\n\n# Get the data type and dimension\nclass(abalone)\ndim(abalone)\n\n# Get the data types of every field\nlapply(abalone, class)\n\n# Check if there are missing values\ncolSums(is.na(abalone))\n\n# Get the statistical measurements\n# (numeric variables) and save them into a.s.m\n# (abalone.statistical.measurements matrix)\nabalone2 = subset(abalone, select = -Sex)\n\na.s.m = matrix(\n  nrow = ncol(abalone2),\n  ncol = 8\n)\ncolnames(a.s.m) = c(\n  \"Min.\",\n  \"1st Qu.\",\n  \"Median\",\n  \"Mean\",\n  \"3rd Qu.\",\n  \"Max.\",\n  \"Var.\",\n  \"SD\"\n)\nrownames(a.s.m) = names(abalone2)\n\na.s.m[,1] = sapply(abalone2, min)             # Minimum\na.s.m[,2] = sapply(abalone2, quantile, 0.25)  # 1st Quart.\na.s.m[,3] = sapply(abalone2, median)          # Median\na.s.m[,4] = sapply(abalone2, mean)            # Mean\na.s.m[,5] = sapply(abalone2, quantile, 0.75)  # 3rd Quart.\na.s.m[,6] = sapply(abalone2, max)             # Max\na.s.m[,7] = sapply(abalone2, var)             # Variance\na.s.m[,8] = sapply(abalone2, sd)              # Std. dev.\n\n# Get the statistical measurements\n# (categorical variables)\na.s.m2 = as.data.frame( table(abalone$Sex) )\nnames(a.s.m2)[1] = \"Sex\"\na.s.m2$relFreq = a.s.m2$Freq/nrow(abalone)\n\n# Get summarized information\nstr(abalone)      # Structure\nsummary(abalone)  # Statistical measurements\n\n# Get correlation matrix\ncor.matrix = cor(abalone2)\n\n# By taking a look to the file, it is clear that\n# the output variable is Class, thus we have to\n# classify the data by this category\n\n# PLOTS\n\n# Categorical variables (barplots)\nggplot(abalone, aes(x = Sex, fill = Sex)) +\n  geom_bar(stat = \"count\")\n\n# Numeric variables Boxplots\nmeltData1 = melt.data.frame(data = abalone[,2:4])\nmeltData1$Measure = \"length (mm)\"\n\nmeltData2 = melt.data.frame(data = abalone[,5:8])\nmeltData2$Measure = \"weight (grams)\"\n\nmeltData = rbind(meltData1, meltData2)\nggplot(meltData, aes(factor(variable), value)) +\n  xlab(\"\") + ylab(\"\") + geom_boxplot() + coord_flip() +\n  facet_wrap( ~ Measure, ncol=1, scales=\"free\")\n\n# Distribution of rings\nggplot(abalone, aes(Rings, fill = Sex, color = Sex)) + geom_freqpoly(bins = 29)\nggplot(abalone, aes(Sex, Rings, fill = Sex)) + geom_boxplot()\nggplot(abalone, aes(Rings, fill = Sex, color = Sex)) + stat_ecdf(bins = 29) + ylab(\"CDF\")\nggplot(abalone, aes(Rings, fill = Sex, color = Sex)) + stat_density(alpha = .8)\n\n# Distribution of numeric variables against sex\n# Remove outlayers\nabalone.reshaped = melt(abalone[abalone$Height<0.3,])\nggplot(abalone.reshaped, aes(value, colour = Sex)) +\n  geom_freqpoly(bins = 29) +\n  facet_wrap( ~ variable, ncol = 2, scales=\"free\")\n\n# Histograms show that Male-Female distinction is not relevant, and\n# does not characterize any of the above variables.\n# Nonetheless, Infants' dimensions are usually lower,\n# as is their age.\n# Statistical test is needed to confirm this statement.\n\n\n# Scatterplots\nmyData = melt.data.frame(\n  abalone[abalone$Height<0.3,],\n  id.vars=c(\"Sex\", \"Rings\")\n)\nmyData[myData$variable==\"Height\",] =\n  within(myData[myData$variable==\"Height\",], {\n    value = jitter(value, factor = 3)\n  }\n)\nggplot(myData, aes(x = value, y = Rings)) + geom_jitter(alpha = 0.03) + facet_wrap( ~ variable, ncol = 2, scales = \"free\")\n\n\n# Check whether the Rings distributions are the same\nmean(abalone[abalone$Sex==\"F\",]$Rings)\nsummary(abalone[abalone$Sex==\"F\",]$Rings)\nmean(abalone[abalone$Sex==\"M\",]$Rings)\nsummary(abalone[abalone$Sex==\"M\",]$Rings)\n\nks.test(abalone[abalone$Sex==\"M\",]$Rings,abalone[abalone$Sex==\"F\",]$Rings)\n# In the studied sample, there are more old females than old males. Actually, the distributions can be proved to not be the same.\n# This can indicate that females usually live longer than males.\n# This fact must be taken into account to test if there is any secondary sex charasteristic,\n# i.e. it does not suffice to test wheter length distribution in females is the same than length distribution in males,\n# it is necessary to test this taking age into account.\n# From the minimum age of both female and male, it can be suspected that primary sex characteristics are easier detected on males.\n",
    "created" : 1502224716775.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "520206840",
    "id" : "8575C401",
    "lastKnownWriteTime" : 1502718859,
    "last_content_update" : 1502718859423,
    "path" : "/home/cristian10/workspace/master/icd/final/src/analysis/abalone.R",
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}